<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Perfil do Contratante</title>
  <style>
    :root{--bg:#4f8fe4;--card:#ffffff;--accent:#1f6feb;--muted:#6b7280}
    body{font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:var(--bg); margin:0; padding:32px; color:#111}
    .container{max-width:820px;margin:0 auto}
    .card{background:var(--card);border-radius:12px;padding:24px;box-shadow:0 6px 18px rgba(15,23,42,0.06)}
    h1{margin:0 0 8px;font-size:20px}
    p.lead{margin:0 0 20px;color:var(--muted)}
    form{display:grid;grid-template-columns:1fr 1fr;gap:14px}
    label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px}
    input[type=text], select, textarea{width:100%;padding:10px 12px;border:1px solid #e6e9ef;border-radius:8px;font-size:14px}
    textarea{resize:vertical;min-height:120px}
    .full{grid-column:1 / -1}
    .actions{display:flex;gap:10px;justify-content:flex-end;margin-top:16px}
    button{background:var(--accent);color:#fff;border:none;padding:10px 14px;border-radius:8px;cursor:pointer}
    button.secondary{background:#fdfbfb;color:var(--accent)}
    .output{white-space:pre-wrap;background:#0f1724;color:#324d75;padding:12px;border-radius:8px;margin-top:12px;font-family:monospace}
    .hint{font-size:12px;color:#000000}
    @media (max-width:640px){form{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="container">
    <div class="card">
      <h1>Perfil do Contratante</h1>
      <p class="lead">Preencha os dados do contratante. Os campos marcados são importantes para contato e pagamento.</p>

      <form id="contratanteForm" autocomplete="on">
        <div>
          <label for="nome">Nome</label>
          <input id="nome" name="nome" type="text" placeholder="Maria da Silva" required />
        </div>

        <div>
          <label for="cpf">CPF <span class="hint">(somente números ou no formato 000.000.000-00)</span></label>
          <input id="cpf" name="cpf" type="text" inputmode="numeric" placeholder="000.000.000-00" pattern="^(\d{3}\.\d{3}\.\d{3}-\d{2}|\d{11})$" required />
        </div>

        <div class="full">
          <label for="endereco">Endereço</label>
          <input id="endereco" name="endereco" type="text" placeholder="Rua das Flores, 123, Centro, Cidade - UF" required />
        </div>

        <div>
          <label for="pagamento">Maneira de pagamento</label>
          <select id="pagamento" name="pagamento" required>
            <option value="">-- Selecionar --</option>
            <option value="transferencia">Transferência bancária</option>
            <option value="pix">PIX</option>
            <option value="dinheiro">Dinheiro</option>
            <option value="cartao">Cartão de crédito/débito</option>
            <option value="boleto">Boleto</option>
          </select>
        </div>

        <div class="full">
          <label for="informacoes">Informações adicionais</label>
          <textarea id="informacoes" name="informacoes" placeholder="Ex.: Procuro trabalho em meio período, disponível de segunda a sexta à tarde, tenho experiência com atendimento e organização."></textarea>
        </div>

        <div class="full actions">
          <button type="button" id="salvar">Salvar perfil</button>
          <button type="button" id="limpar" class="secondary">Limpar</button>
        </div>

        <div class="full">
          <div id="resultado" class="output" aria-live="polite" hidden></div>
        </div>
      </form>

    </div>
  </div>

  <script>
    const form = document.getElementById('contratanteForm')
    const salvar = document.getElementById('salvar')
    const limpar = document.getElementById('limpar')
    const resultado = document.getElementById('resultado')

    function getFormData(){
      const data = new FormData(form)
      const obj = {}
      for (const [k,v] of data.entries()) obj[k]=v.trim()
      return obj
    }

    function validarCPFSimples(cpf){
      if(!cpf) return false
      const digits = cpf.replace(/\D/g,'')
      return digits.length === 11
    }

    salvar.addEventListener('click', ()=>{
      if(!form.reportValidity()) return
      const dados = getFormData()
      if(!validarCPFSimples(dados.cpf)){
        alert('CPF inválido. Insira 11 dígitos ou 000.000.000-00')
        return
      }
      resultado.hidden = false
      resultado.textContent = JSON.stringify(dados, null, 2)
      try{ localStorage.setItem('perfilContratante', JSON.stringify(dados)) }catch(e){}
    })

    limpar.addEventListener('click', ()=>{
      form.reset(); resultado.hidden=true; resultado.textContent=''
    })

    document.addEventListener('DOMContentLoaded', ()=>{
      try{
        const saved = localStorage.getItem('perfilContratante')
        if(saved){
          const obj = JSON.parse(saved)
          for(const k in obj) if(form.elements[k]) form.elements[k].value = obj[k]
        }
      }catch(e){}
    })
  </script>
</body>
</html>
